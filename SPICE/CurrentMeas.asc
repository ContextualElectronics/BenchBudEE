Version 4
SHEET 1 1964 772
WIRE 768 -576 736 -576
WIRE 768 -560 768 -576
WIRE 768 -560 688 -560
WIRE 768 -544 768 -560
WIRE 768 -432 768 -464
WIRE 960 -432 768 -432
WIRE 1088 -432 1040 -432
WIRE 1200 -432 1088 -432
WIRE 1504 -432 1200 -432
WIRE 768 -416 768 -432
WIRE 1088 -416 1088 -432
WIRE 1200 -368 1200 -432
WIRE 1264 -368 1200 -368
WIRE 1504 -368 1504 -432
WIRE 1456 -352 1328 -352
WIRE 960 -336 768 -336
WIRE 1088 -336 1088 -352
WIRE 1088 -336 1040 -336
WIRE 1264 -336 1088 -336
WIRE 768 -272 768 -336
WIRE 880 -272 768 -272
WIRE 976 -272 880 -272
WIRE 1504 -256 1504 -272
WIRE 1632 -256 1504 -256
WIRE 880 -240 880 -272
WIRE 976 -240 976 -272
WIRE 1632 -240 1632 -256
WIRE 688 -224 688 -560
WIRE 1504 -224 1504 -256
WIRE -576 -128 -624 -128
WIRE -528 -128 -576 -128
WIRE -368 -128 -416 -128
WIRE -304 -128 -368 -128
WIRE 688 -128 688 -160
WIRE 768 -128 688 -128
WIRE 880 -128 880 -160
WIRE 880 -128 768 -128
WIRE 976 -128 976 -176
WIRE 976 -128 880 -128
WIRE 768 -48 768 -128
WIRE 1504 -48 1504 -144
WIRE 1632 -48 1632 -176
WIRE 1632 -48 1504 -48
WIRE -528 -16 -528 -128
WIRE -416 -16 -416 -128
WIRE 768 0 768 -48
WIRE 208 64 176 64
WIRE 400 64 288 64
WIRE 528 64 400 64
WIRE 1504 64 1504 -48
WIRE 720 80 592 80
WIRE -528 96 -528 64
WIRE -416 96 -416 64
WIRE -416 96 -528 96
WIRE 528 96 464 96
WIRE -416 128 -416 96
WIRE 400 128 400 64
WIRE -528 176 -528 96
WIRE 176 192 176 64
WIRE 304 208 288 208
WIRE 352 208 304 208
WIRE 768 224 768 96
WIRE 464 240 464 96
WIRE 768 240 768 224
WIRE 768 240 464 240
WIRE 400 256 400 224
WIRE 176 288 176 272
WIRE 288 320 288 208
WIRE -416 352 -416 208
WIRE -368 352 -416 352
WIRE -304 352 -368 352
WIRE 288 416 288 400
WIRE 768 416 768 240
WIRE 960 416 768 416
WIRE 768 448 768 416
WIRE 1120 496 1008 496
WIRE 1168 496 1120 496
WIRE 1168 528 1168 496
WIRE 768 544 768 528
WIRE 960 544 960 512
WIRE 960 544 768 544
WIRE 768 560 768 544
WIRE 1168 640 1168 608
FLAG -528 176 0
FLAG -368 -128 V+
FLAG -368 352 V-
FLAG 560 48 V-
FLAG 560 112 V+
FLAG 768 560 0
FLAG 176 288 0
FLAG 768 -48 FET
FLAG 768 224 Sense
FLAG -576 -128 5V
FLAG 768 -576 V+
FLAG 288 416 0
FLAG 400 256 0
FLAG 1168 640 0
FLAG 1120 496 MODE
FLAG 176 64 DAC
FLAG 304 208 PWM
FLAG 1296 -384 V+
FLAG 1504 64 0
FLAG 1296 -320 V-
SYMBOL Opamps\\LT1001 560 144 M180
SYMATTR InstName U1
SYMBOL voltage -416 -32 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value 12
SYMBOL voltage -416 112 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value 12
SYMBOL res 752 432 R0
SYMATTR InstName R1
SYMATTR Value 40
SYMBOL nmos 720 0 R0
SYMATTR InstName M1
SYMATTR Value BSB012NE2LX
SYMBOL voltage 176 176 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value PULSE(5 0 100m .1m .1m 50m)
SYMBOL res 864 -256 R0
SYMATTR InstName R2
SYMATTR Value 2
SYMBOL voltage -528 -32 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V4
SYMATTR Value 5
SYMBOL diode 704 -160 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMATTR Value 1N914
SYMBOL cap 960 -240 R0
SYMATTR InstName C1
SYMATTR Value 10n
SYMBOL res 304 48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 1K
SYMBOL voltage 288 304 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V5
SYMATTR Value PULSE(0 5 0 .1m .1m 10m 20m 10000)
SYMBOL nmos 352 128 R0
SYMATTR InstName M3
SYMATTR Value Si7540DP_N
SYMBOL res 752 -432 R0
SYMATTR InstName R6
SYMATTR Value .1
SYMBOL nmos 1008 416 M0
SYMATTR InstName M4
SYMATTR Value Si7540DP_N
SYMBOL voltage 1168 512 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V6
SYMATTR Value 0
SYMBOL res 1056 -448 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 1000
SYMBOL res 1488 -240 R0
SYMATTR InstName R8
SYMATTR Value 20K
SYMBOL res 752 -560 R0
SYMATTR InstName R9
SYMATTR Value 20
SYMBOL res 1056 -352 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 1000
SYMBOL pmos 1456 -272 M180
SYMATTR InstName M2
SYMATTR Value AO6407
SYMBOL cap 1616 -240 R0
SYMATTR InstName C2
SYMATTR Value 10n
SYMBOL cap 1072 -416 R0
SYMATTR InstName C3
SYMATTR Value 10n
SYMBOL Opamps\\LT1001 1296 -416 R0
SYMATTR InstName U2
TEXT -552 552 Left 2 !.tran 0 .1 0
TEXT -552 608 Left 2 ;.STEP PARAM Rload 2 20 2
TEXT -560 656 Left 2 !.PARAM Rload 2
